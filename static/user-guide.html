<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Research AI - Comprehensive User Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .developer-info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .developer-info p {
            margin: 5px 0;
            font-size: 0.95em;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }

        .nav-tabs button {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -3px;
        }

        .nav-tabs button:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .nav-tabs button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .content {
            padding: 40px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        .section h4 {
            color: #495057;
            font-size: 1.1em;
            margin: 20px 0 10px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .feature-card h4 {
            color: #667eea;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .code-block .keyword {
            color: #569cd6;
        }

        .code-block .string {
            color: #ce9178;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .step-list {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .step-list li {
            counter-increment: step-counter;
            margin: 25px 0;
            padding-left: 60px;
            position: relative;
        }

        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .example-box {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .example-box h5 {
            color: #667eea;
            margin-top: 0;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }

        table tr:hover {
            background: #f8f9fa;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px;
        }

        .badge-primary {
            background: #667eea;
            color: white;
        }

        .badge-success {
            background: #28a745;
            color: white;
        }

        .badge-warning {
            background: #ffc107;
            color: #333;
        }

        .badge-info {
            background: #17a2b8;
            color: white;
        }

        .footer {
            background: #2d3748;
            color: white;
            padding: 30px;
            text-align: center;
            margin-top: 40px;
        }

        .footer p {
            margin: 5px 0;
        }

        .back-to-app {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            margin-top: 20px;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .back-to-app:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .nav-tabs button {
                font-size: 0.9em;
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìä Financial Research AI Agent</h1>
            <p class="subtitle">Comprehensive User Guide & Documentation</p>
            <div class="developer-info">
                <p><strong>üíª Developed by:</strong> KUMAR JEET</p>
                <p><strong>üìÖ Version:</strong> 2.0 (February 2026)</p>
                <p><strong>üéØ Purpose:</strong> AI-Powered Financial Research & Analysis Platform</p>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="active" onclick="showTab('overview')">üìñ Overview</button>
            <button onclick="showTab('getting-started')">üöÄ Getting Started</button>
            <button onclick="showTab('features')">‚ú® Features</button>
            <button onclick="showTab('calculations')">üßÆ Calculations</button>
            <button onclick="showTab('queries')">üí¨ Query Types</button>
            <button onclick="showTab('api')">üîå API Usage</button>
            <button onclick="showTab('troubleshooting')">üîß Troubleshooting</button>
        </div>

        <!-- Content Area -->
        <div class="content">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="section">
                    <h2>üéØ What is Financial Research AI?</h2>
                    <p>Financial Research AI is an advanced, intelligent research assistant designed to help you analyze financial data, perform calculations, and conduct comprehensive research on companies and markets. Built with cutting-edge AI technology, it combines the power of large language models with real-time financial data.</p>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>ü§ñ AI-Powered Analysis</h4>
                            <p>Leverages OpenAI GPT-4o-mini for intelligent query understanding and professional response formatting.</p>
                        </div>
                        <div class="feature-card">
                            <h4>üìà Real-Time Data</h4>
                            <p>Fetches live stock prices, financial metrics, and company data using Yahoo Finance integration.</p>
                        </div>
                        <div class="feature-card">
                            <h4>üßÆ Smart Calculator</h4>
                            <p>Performs accurate financial calculations including P/E ratio, ROE, CAGR, and more with instant results.</p>
                        </div>
                        <div class="feature-card">
                            <h4>üîç Deep Research</h4>
                            <p>Conducts multi-step research with web search, document analysis, and comprehensive reporting.</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>üèóÔ∏è System Architecture</h2>
                    <h3>Core Components</h3>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Technology</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Backend API</strong></td>
                                <td>FastAPI (Python 3.12)</td>
                                <td>Handles all requests and orchestrates agents</td>
                            </tr>
                            <tr>
                                <td><strong>LLM Engine</strong></td>
                                <td>OpenAI GPT-4o-mini</td>
                                <td>Natural language understanding and generation</td>
                            </tr>
                            <tr>
                                <td><strong>Financial Data</strong></td>
                                <td>yfinance Library</td>
                                <td>Real-time stock and company data fetching</td>
                            </tr>
                            <tr>
                                <td><strong>Vector Store</strong></td>
                                <td>Sentence Transformers</td>
                                <td>Semantic search and document embedding</td>
                            </tr>
                            <tr>
                                <td><strong>Frontend</strong></td>
                                <td>HTML5 + JavaScript</td>
                                <td>User interface and interaction</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="section">
                    <h2>üë®‚Äçüíª About the Developer</h2>
                    <div class="info-box">
                        <h4>KUMAR JEET</h4>
                        <p><strong>Role:</strong> Full-Stack AI Engineer & Financial Technology Developer</p>
                        <p><strong>Expertise:</strong> Python, FastAPI, AI/ML, Financial Analysis, LLM Integration</p>
                        <p><strong>Project Vision:</strong> To democratize financial research through intelligent automation and AI-powered insights, making complex financial analysis accessible to everyone.</p>
                        <p><strong>Technologies Used:</strong> Python 3.12, FastAPI, OpenAI API, Yahoo Finance, Sentence Transformers, Docker, Git</p>
                    </div>
                </div>
            </div>

            <!-- Getting Started Tab -->
            <div id="getting-started" class="tab-content">
                <div class="section">
                    <h2>üöÄ Getting Started</h2>
                    
                    <h3>Prerequisites</h3>
                    <div class="warning-box">
                        <strong>‚ö†Ô∏è Required Before Installation:</strong>
                        <ul style="margin-top: 10px;">
                            <li>Python 3.12 or higher installed</li>
                            <li>OpenAI API key (for LLM features)</li>
                            <li>Tavily API key (optional, for web search)</li>
                            <li>Internet connection for real-time data</li>
                        </ul>
                    </div>

                    <h3>Installation Steps</h3>
                    <ol class="step-list">
                        <li>
                            <strong>Clone the Repository</strong>
                            <div class="code-block">
git clone https://github.com/your-repo/financial_research_agent.git
cd financial_research_agent
                            </div>
                        </li>

                        <li>
                            <strong>Create Virtual Environment</strong>
                            <div class="code-block">
<span class="comment"># Windows</span>
python -m venv venv
venv\Scripts\activate

<span class="comment"># Linux/Mac</span>
python3 -m venv venv
source venv/bin/activate
                            </div>
                        </li>

                        <li>
                            <strong>Install Dependencies</strong>
                            <div class="code-block">
pip install -r requirements.txt
                            </div>
                        </li>

                        <li>
                            <strong>Configure Environment Variables</strong>
                            <p>Create a <code>.env</code> file in the root directory:</p>
                            <div class="code-block">
<span class="comment"># Copy from example</span>
cp .env.example .env

<span class="comment"># Edit .env file with your API keys</span>
OPENAI_API_KEY=<span class="string">"your-openai-api-key-here"</span>
TAVILY_API_KEY=<span class="string">"your-tavily-api-key-here"</span>
                            </div>
                        </li>

                        <li>
                            <strong>Start the Server</strong>
                            <div class="code-block">
uvicorn src.api:app --reload --host 127.0.0.1 --port 8000
                            </div>
                            <div class="success-box" style="margin-top: 15px;">
                                <strong>‚úÖ Success!</strong> Server will start at <code>http://127.0.0.1:8000</code>
                            </div>
                        </li>

                        <li>
                            <strong>Access the Application</strong>
                            <p>Open your web browser and navigate to:</p>
                            <div class="code-block">
http://127.0.0.1:8000
                            </div>
                        </li>
                    </ol>
                </div>

                <div class="section">
                    <h2>‚å®Ô∏è First Query - Quick Start</h2>
                    <div class="example-box">
                        <h5>Try These Example Queries:</h5>
                        <ol>
                            <li><strong>Simple Calculation:</strong> "Calculate P/E ratio with price 2000 and EPS 80"</li>
                            <li><strong>Company Data:</strong> "What is the current stock price of TCS?"</li>
                            <li><strong>Financial Metric:</strong> "What is the P/E ratio of Infosys?"</li>
                            <li><strong>Comparison:</strong> "Compare revenue growth of TCS and Infosys"</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- Features Tab -->
            <div id="features" class="tab-content">
                <div class="section">
                    <h2>‚ú® Key Features</h2>

                    <h3>1. Intelligent Query Classification</h3>
                    <p>The system automatically classifies your queries into three tiers:</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>üü¢ SIMPLE Mode</h4>
                            <span class="badge badge-success">Auto-Execute</span>
                            <p>Quick calculations and basic queries that execute instantly without user confirmation.</p>
                            <p><strong>Examples:</strong></p>
                            <ul>
                                <li>Calculate P/E ratio</li>
                                <li>Stock price lookup</li>
                                <li>Simple financial metrics</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <h4>üü° STANDARD Mode</h4>
                            <span class="badge badge-warning">Mini-Plan</span>
                            <p>Multi-step queries that require moderate research and data fetching.</p>
                            <p><strong>Examples:</strong></p>
                            <ul>
                                <li>Company comparisons</li>
                                <li>Multiple metric analysis</li>
                                <li>Sector overviews</li>
                            </ul>
                        </div>

                        <div class="feature-card">
                            <h4>üî¥ DEEP Mode</h4>
                            <span class="badge badge-primary">Full Research</span>
                            <p>Comprehensive research with multiple iterations, web search, and detailed reporting.</p>
                            <p><strong>Examples:</strong></p>
                            <ul>
                                <li>Industry analysis</li>
                                <li>Market trends</li>
                                <li>Complex comparisons</li>
                            </ul>
                        </div>
                    </div>

                    <h3>2. Three-Tier Calculation System</h3>
                    
                    <h4>Type 1: Direct Calculations (Pure Python Math)</h4>
                    <div class="info-box">
                        <p><strong>Use Case:</strong> When you provide all values in your query</p>
                        <p><strong>Speed:</strong> Instant (2-5 seconds)</p>
                        <p><strong>Accuracy:</strong> 100% (Python mathematical operations)</p>
                        <p><strong>Source:</strong> Financial Calculator (Direct Computation)</p>
                    </div>

                    <h4>Type 2: Fetch + Calculate (Company Data)</h4>
                    <div class="info-box">
                        <p><strong>Use Case:</strong> When you mention a company name without values</p>
                        <p><strong>Speed:</strong> Fast (5-10 seconds)</p>
                        <p><strong>Data Source:</strong> Yahoo Finance (Real-time)</p>
                        <p><strong>Source:</strong> Yahoo Finance (Real-time Market Data)</p>
                    </div>

                    <h4>Type 3: LLM Fallback (Uncommon Metrics)</h4>
                    <div class="info-box">
                        <p><strong>Use Case:</strong> Non-standard calculations not hardcoded</p>
                        <p><strong>Speed:</strong> Moderate (10-15 seconds)</p>
                        <p><strong>Method:</strong> AI-powered calculation with LLM</p>
                        <p><strong>Source:</strong> AI-assisted calculation</p>
                    </div>

                    <h3>3. Currency Detection</h3>
                    <p>Automatically detects and displays the correct currency symbol based on your query:</p>
                    <table>
                        <tr>
                            <th>Currency</th>
                            <th>Trigger Keywords</th>
                            <th>Display Symbol</th>
                        </tr>
                        <tr>
                            <td>Indian Rupee</td>
                            <td>‚Çπ, rupee, INR</td>
                            <td>‚Çπ</td>
                        </tr>
                        <tr>
                            <td>US Dollar</td>
                            <td>$, dollar, USD</td>
                            <td>$</td>
                        </tr>
                        <tr>
                            <td>Euro</td>
                            <td>‚Ç¨, euro, EUR</td>
                            <td>‚Ç¨</td>
                        </tr>
                        <tr>
                            <td>British Pound</td>
                            <td>¬£, pound, GBP</td>
                            <td>¬£</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Calculations Tab -->
            <div id="calculations" class="tab-content">
                <div class="section">
                    <h2>üßÆ Supported Financial Calculations</h2>

                    <div class="section">
                        <h3>1. P/E Ratio (Price-to-Earnings)</h3>
                        <p><strong>Formula:</strong> P/E Ratio = Stock Price / Earnings Per Share (EPS)</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
<span class="comment">// Type 1: Direct Calculation</span>
Calculate P/E ratio with price 2000 and EPS 80
Calculate PE ratio if stock price is ‚Çπ1500 and EPS is ‚Çπ60

<span class="comment">// Type 2: Company Data</span>
What is the P/E ratio of Infosys?
Calculate TCS P/E ratio
                            </div>
                            <p><strong>Expected Result:</strong> P/E Ratio = 25.0 (for first example)</p>
                        </div>
                    </div>

                    <div class="section">
                        <h3>2. ROE (Return on Equity)</h3>
                        <p><strong>Formula:</strong> ROE = (Net Income / Shareholder Equity) √ó 100</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
<span class="comment">// Type 1: Direct Calculation</span>
Calculate ROE with net income 5000 crores and equity 25000 crores
ROE calculation: profit ‚Çπ8000 cr, equity ‚Çπ40000 cr

<span class="comment">// Type 2: Company Data</span>
What is the ROE of TCS?
Calculate return on equity for Reliance
                            </div>
                            <p><strong>Expected Result:</strong> ROE = 20% (for first example)</p>
                        </div>
                    </div>

                    <div class="section">
                        <h3>3. CAGR (Compound Annual Growth Rate)</h3>
                        <p><strong>Formula:</strong> CAGR = [(Final Value / Initial Value)^(1/Years)] - 1</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
Calculate CAGR: initial value 1000, final value 2000, time period 5 years
CAGR from 10000 to 15000 in 3 years
Growth rate with starting 500, ending 800, duration 4 years
                            </div>
                            <p><strong>Expected Result:</strong> CAGR = 14.87% (for first example)</p>
                        </div>
                    </div>

                    <div class="section">
                        <h3>4. Debt-to-Equity Ratio</h3>
                        <p><strong>Formula:</strong> Debt-to-Equity = Total Debt / Total Equity</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
Calculate debt to equity ratio with debt 30000 and equity 50000
Debt-to-equity: debt ‚Çπ20 cr, equity ‚Çπ40 cr
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3>5. Profit Margin</h3>
                        <p><strong>Formula:</strong> Profit Margin = (Net Profit / Revenue) √ó 100</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
Calculate profit margin with profit 2000 and revenue 10000
Net margin: profit ‚Çπ500 cr, revenue ‚Çπ2500 cr
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3>6. Current Ratio</h3>
                        <p><strong>Formula:</strong> Current Ratio = Current Assets / Current Liabilities</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
Calculate current ratio with assets 15000 and liabilities 10000
Current ratio: assets ‚Çπ80 cr, liabilities ‚Çπ50 cr
                            </div>
                        </div>
                    </div>

                    <div class="section">
                        <h3>7. Growth Rate</h3>
                        <p><strong>Formula:</strong> Growth Rate = [(New Value - Old Value) / Old Value] √ó 100</p>
                        
                        <div class="example-box">
                            <h5>üìù Example Queries:</h5>
                            <div class="code-block">
Revenue growth rate from 1000 cr in 2023 to 1200 cr in 2024
YoY growth: 2023 revenue was 5000, 2024 revenue is 6000
                            </div>
                            <p><strong>Expected Result:</strong> Growth Rate = 20% (for first example)</p>
                        </div>
                    </div>

                    <div class="warning-box">
                        <strong>üí° Pro Tips:</strong>
                        <ul style="margin-top: 10px;">
                            <li>Use commas in large numbers: 50,000 (system handles both formats)</li>
                            <li>Include currency symbols for proper display: ‚Çπ, $, ‚Ç¨, ¬£</li>
                            <li>Use keywords like "price", "EPS", "income", "equity" for better accuracy</li>
                            <li>For company metrics, just mention the company name - data is fetched automatically</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Query Types Tab -->
            <div id="queries" class="tab-content">
                <div class="section">
                    <h2>üí¨ Query Types & Examples</h2>

                    <h3>Category 1: Direct Calculations</h3>
                    <p>Provide all values directly in your query for instant results.</p>
                    <div class="example-box">
                        <h5>Examples:</h5>
                        <ul>
                            <li>Calculate P/E ratio with price 2000 and EPS 80</li>
                            <li>ROE calculation: net income ‚Çπ5000 cr, equity ‚Çπ25000 cr</li>
                            <li>CAGR from 1000 to 2000 in 5 years</li>
                            <li>Profit margin: profit $200 million, revenue $1000 million</li>
                        </ul>
                    </div>

                    <h3>Category 2: Company Lookups</h3>
                    <p>Ask about specific companies - data is fetched in real-time.</p>
                    <div class="example-box">
                        <h5>Examples:</h5>
                        <ul>
                            <li>What is the current stock price of TCS?</li>
                            <li>P/E ratio of Infosys</li>
                            <li>ROE for Reliance</li>
                            <li>How is HDFC Bank performing?</li>
                        </ul>
                    </div>

                    <h3>Category 3: Comparisons</h3>
                    <p>Compare multiple companies or metrics side-by-side.</p>
                    <div class="example-box">
                        <h5>Examples:</h5>
                        <ul>
                            <li>Compare TCS and Infosys P/E ratios</li>
                            <li>Revenue growth: TCS vs Wipro</li>
                            <li>Which has better ROE: HDFC Bank or ICICI Bank?</li>
                            <li>Compare top 3 IT companies in India</li>
                        </ul>
                    </div>

                    <h3>Category 4: Research Questions</h3>
                    <p>Ask complex questions requiring multi-step research.</p>
                    <div class="example-box">
                        <h5>Examples:</h5>
                        <ul>
                            <li>What are the growth prospects for Indian pharma sector?</li>
                            <li>Analyze the competitive landscape of IT services industry</li>
                            <li>What factors are driving Reliance's stock performance?</li>
                            <li>Deep research on renewable energy companies in India</li>
                        </ul>
                    </div>

                    <h3>Category 5: Batch Queries</h3>
                    <p>Ask multiple questions at once, separated by commas or semicolons.</p>
                    <div class="example-box">
                        <h5>Examples:</h5>
                        <ul>
                            <li>Calculate P/E ratio for TCS, Infosys, and Wipro</li>
                            <li>Stock prices: TCS; Infosys; HCL Tech</li>
                            <li>Compare: TCS market cap, Infosys revenue, Wipro P/E</li>
                        </ul>
                    </div>

                    <h3>Supported Companies</h3>
                    <table>
                        <tr>
                            <th>Sector</th>
                            <th>Companies</th>
                        </tr>
                        <tr>
                            <td><strong>IT Services</strong></td>
                            <td>TCS, Infosys, Wipro, HCL Tech, Tech Mahindra</td>
                        </tr>
                        <tr>
                            <td><strong>Banking</strong></td>
                            <td>HDFC Bank, ICICI Bank, SBI, Axis Bank, Kotak Mahindra</td>
                        </tr>
                        <tr>
                            <td><strong>Conglomerates</strong></td>
                            <td>Reliance, Tata Motors, ITC, L&T</td>
                        </tr>
                        <tr>
                            <td><strong>Telecom</strong></td>
                            <td>Bharti Airtel</td>
                        </tr>
                        <tr>
                            <td><strong>US Tech (Sample)</strong></td>
                            <td>Apple, Microsoft, Google, Amazon, Meta, Tesla, NVIDIA</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- API Usage Tab -->
            <div id="api" class="tab-content">
                <div class="section">
                    <h2>üîå API Documentation</h2>

                    <h3>Base URL</h3>
                    <div class="code-block">
http://127.0.0.1:8000
                    </div>

                    <h3>Main Endpoint: Chat API</h3>
                    <p><strong>Endpoint:</strong> <code>POST /api/chat</code></p>
                    
                    <h4>Request Format</h4>
                    <div class="code-block">
{
  <span class="string">"message"</span>: <span class="string">"Your query here"</span>,
  <span class="string">"session_id"</span>: <span class="string">"optional-session-id"</span>,
  <span class="string">"deepMode"</span>: <span class="keyword">false</span>
}
                    </div>

                    <h4>Response Format</h4>
                    <div class="code-block">
{
  <span class="string">"response"</span>: <span class="string">"Formatted answer with calculations/research"</span>,
  <span class="string">"session_id"</span>: <span class="string">"session-123"</span>,
  <span class="string">"mode"</span>: <span class="string">"SIMPLE"</span>,
  <span class="string">"execution_time"</span>: 2.45,
  <span class="string">"iteration_count"</span>: 1
}
                    </div>

                    <h3>Example: Using cURL</h3>
                    <div class="code-block">
curl -X POST http://127.0.0.1:8000/api/chat \
  -H <span class="string">"Content-Type: application/json"</span> \
  -d '{
    <span class="string">"message"</span>: <span class="string">"Calculate P/E ratio with price 2000 and EPS 80"</span>,
    <span class="string">"session_id"</span>: <span class="string">"test-session"</span>
  }'
                    </div>

                    <h3>Example: Using Python</h3>
                    <div class="code-block">
<span class="keyword">import</span> requests

url = <span class="string">"http://127.0.0.1:8000/api/chat"</span>
payload = {
    <span class="string">"message"</span>: <span class="string">"What is the P/E ratio of TCS?"</span>,
    <span class="string">"session_id"</span>: <span class="string">"my-session"</span>
}

response = requests.post(url, json=payload)
result = response.json()

<span class="keyword">print</span>(result[<span class="string">"response"</span>])
                    </div>

                    <h3>Example: Using JavaScript</h3>
                    <div class="code-block">
<span class="keyword">const</span> response = <span class="keyword">await</span> fetch(<span class="string">'http://127.0.0.1:8000/api/chat'</span>, {
    method: <span class="string">'POST'</span>,
    headers: {
        <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>
    },
    body: JSON.stringify({
        message: <span class="string">'Calculate ROE with income 5000 and equity 25000'</span>,
        session_id: <span class="string">'web-session'</span>
    })
});

<span class="keyword">const</span> data = <span class="keyword">await</span> response.json();
console.log(data.response);
                    </div>

                    <h3>Request Parameters</h3>
                    <table>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td><code>message</code></td>
                            <td>string</td>
                            <td>Yes</td>
                            <td>Your query or question</td>
                        </tr>
                        <tr>
                            <td><code>session_id</code></td>
                            <td>string</td>
                            <td>No</td>
                            <td>Session identifier for conversation history</td>
                        </tr>
                        <tr>
                            <td><code>deepMode</code></td>
                            <td>boolean</td>
                            <td>No</td>
                            <td>Force deep research mode (default: false)</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Troubleshooting Tab -->
            <div id="troubleshooting" class="tab-content">
                <div class="section">
                    <h2>üîß Troubleshooting Guide</h2>

                    <h3>Common Issues & Solutions</h3>

                    <div class="warning-box">
                        <h4>Problem: "Server not starting"</h4>
                        <p><strong>Solutions:</strong></p>
                        <ul>
                            <li>Check if Python 3.12+ is installed: <code>python --version</code></li>
                            <li>Verify all dependencies are installed: <code>pip install -r requirements.txt</code></li>
                            <li>Check if port 8000 is already in use: <code>netstat -ano | findstr :8000</code></li>
                            <li>Try a different port: <code>uvicorn src.api:app --port 8001</code></li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>Problem: "API key not found"</h4>
                        <p><strong>Solutions:</strong></p>
                        <ul>
                            <li>Ensure <code>.env</code> file exists in root directory</li>
                            <li>Check that API keys are properly formatted in <code>.env</code></li>
                            <li>Verify no extra spaces or quotes around keys</li>
                            <li>Restart the server after updating <code>.env</code></li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>Problem: "Calculation giving wrong results"</h4>
                        <p><strong>Solutions:</strong></p>
                        <ul>
                            <li>Use clear keywords: "price", "EPS", "income", "equity"</li>
                            <li>Remove currency symbols from numbers if causing issues</li>
                            <li>Specify which number is which: "price 2000, EPS 80"</li>
                            <li>Check if year is being picked up as a value (2000-2030 range)</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>Problem: "Company data not found"</h4>
                        <p><strong>Solutions:</strong></p>
                        <ul>
                            <li>Check company name spelling (TCS, not "TCS Ltd")</li>
                            <li>See supported companies list in Query Types tab</li>
                            <li>Some companies may not be in Yahoo Finance database</li>
                            <li>Try using ticker symbol: INFY.NS for Infosys</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>Problem: "Slow response times"</h4>
                        <p><strong>Solutions:</strong></p>
                        <ul>
                            <li>Check internet connection (required for real-time data)</li>
                            <li>Use SIMPLE queries instead of DEEP mode for faster results</li>
                            <li>Provide values directly instead of asking for company data</li>
                            <li>Clear browser cache and refresh</li>
                        </ul>
                    </div>

                    <h3>Performance Tips</h3>
                    <div class="success-box">
                        <ul>
                            <li><strong>‚úÖ Use Type 1 calculations</strong> when you have values (2-5 seconds)</li>
                            <li><strong>‚úÖ Be specific</strong> in your queries to avoid unnecessary research</li>
                            <li><strong>‚úÖ Use batch queries</strong> for multiple similar questions</li>
                            <li><strong>‚úÖ Check console logs</strong> for debugging information</li>
                            <li><strong>‚úÖ Keep sessions</strong> for related follow-up questions</li>
                        </ul>
                    </div>

                    <h3>Getting Help</h3>
                    <div class="info-box">
                        <p><strong>Developer Contact:</strong> KUMAR JEET</p>
                        <p><strong>Documentation:</strong> Check README.md and other docs in the project</p>
                        <p><strong>Logs:</strong> Server logs show detailed execution information</p>
                        <p><strong>Debug Mode:</strong> Check browser console (F12) for client-side issues</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>üíª Developed by KUMAR JEET</strong></p>
            <p>Financial Research AI Agent v2.0 | February 2026</p>
            <p style="margin-top: 15px; opacity: 0.8;">
                Built with ‚ù§Ô∏è using Python, FastAPI, OpenAI, and cutting-edge AI technology
            </p>
            <a href="index.html" class="back-to-app">‚Üê Back to Application</a>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.nav-tabs button');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked button
            event.target.classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
